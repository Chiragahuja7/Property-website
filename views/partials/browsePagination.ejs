<div id="browse-pagination" class="d-flex justify-content-center my-3"></div>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const container = document.getElementById("property-list");
    if (!container) return;

    const items = Array.from(container.querySelectorAll(".property-item"));
    const perPage = 6;
    let currentPage = 1;
    const totalPages = Math.ceil(items.length / perPage);

    function showPage(page) {
        items.forEach((item, index) => {
            item.style.display =
                index >= (page - 1) * perPage && index < page * perPage
                    ? "block"
                    : "none";
        });
    }

    function createButton(text, callback) {
        const btn = document.createElement("button");
        btn.innerText = text;
        btn.className = "btn btn-primary btn-sm mx-1";
        btn.onclick = callback;
        return btn;
    }

    function createPagination() {
        const pagination = document.getElementById("browse-pagination");
        pagination.innerHTML = "";

        const firstBtn = createButton("First", () => goToPage(1));
        const prevBtn = createButton("Prev", () => goToPage(currentPage - 1));
        const pageInfo = document.createElement("span");
        pageInfo.className = "mx-2 align-self-center";
        pageInfo.id = "page-info";
        pageInfo.innerText = `${currentPage} of ${totalPages}`;
        const nextBtn = createButton("Next", () => goToPage(currentPage + 1));
        const lastBtn = createButton("Last", () => goToPage(totalPages));

        pagination.append(firstBtn, prevBtn, pageInfo, nextBtn, lastBtn);
    }

    function goToPage(page) {
        if (page < 1) page = 1;
        if (page > totalPages) page = totalPages;
        currentPage = page;
        showPage(currentPage);
        document.getElementById("page-info").innerText = `${currentPage} of ${totalPages}`;
    }

    showPage(currentPage);
    createPagination();
});
</script>
