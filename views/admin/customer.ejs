<style>
        table {
            border-collapse: collapse;
            width: 95%;
            margin: 20px auto;
            display:none;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
<div class="full-row p-3">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-12">
                                <h5 class="mb-3 color-dark">Customer</h5>
                            </div>
                        </div>
                </div>
            </div>
<div class="p-3">
<form id="customerfilter" method="GET" action="/customers">
  <div class="form-group">
    <label class="mt-2">From:</label>
    <input type="date" name="from" class="form-control" value="<%= from || '' %>">
    <label class="mt-2">To:</label>
    <input type="date" name="to" class="form-control" value="<%= to || '' %>">
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-primary mt-3">Filter</button>
    <a href="/customers" class="btn btn-secondary mt-3">Reset</a>
  </div>
</form>
</div>

<div class="table-responsive">
<% if (from || to) { %>
    <table id="customer-table" style="display: table;">
<% } else { %>
    <table id="customer-table" style="display: none;">
<% } %>
     <thead>
          <tr>
         <th>S.No</th>
         <th>Name</th>
         <th>Type</th>
         <th>Location</th>
         <th>Date</th>
         <th>Contact</th>
         <th>Email</th>
         </tr>
    </thead>
    <tbody id="paginated-container">
    <% let count = 0; %>
    <% myfiltercalls.forEach((call , index) => { %>
        <tr>
            <td><%= index+1 %></td>
            <td><%= call.name %></td>
            <td><%= call.type%>
                <%if(call.type==='Interested'){%>
                    <a href="/property/<%=call.propId%>"><i class="fa-solid fa-paper-plane"></i></a>
                <%}%>
                </td>
            <td><%= call.location%></td>
            <td><%= call.createdAt.toLocaleDateString('en-IN', { 
              day: '2-digit', 
              month: 'short', 
              year: 'numeric' 
            }) %></td>
            <td><%= call.contact || "admin"%></td>
            <td><%= call.email %></td>
        </tr>
    <% }); %>
</tbody>
</table>
</div>
<%- include('../partials/pagination') %>
